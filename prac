prac 5

create database marks; 
delimiter ;
 use marks; 
  create table studmarks(name varchar(20),total_marks integer); 
   create table result(roll_no integer,name varchar(20),class varchar(25)); 
    delimiter $ 
     create procedure proc_grade(in rollno tinyint,in name varchar(15),in marks int) 
         begin     -> declare class varchar(25);     -> if marks>=990 and marks<=1500 then set class="Distinction";     -> elseif marks<=989 and marks>=900 then set class="First Class";     -> elseif marks<=899 and marks>=825 then set class="Second Class";     -> elseif marks<=824 and marks>=700 then set class="Pass";     -> else     -> set class="Fail";     -> end if;     -> insert into studmarks values(name,marks);     -> insert into result values(rollno,name,class);     -> end$ 
         
          delimiter ; 
           call proc_grade(1,"Saurabh",850); 
           call proc_grade(2,"Peter",1000); 
            call proc_grade(8,"Samarth",834); 
             call proc_grade(73,"Pranali",950); 
               call proc_grade(15,"Gargi",750); 
                call proc_grade(14,"Vaishnavi",1200); 
                call proc_grade(28,"Sarvesha",1132); 
                 select * from studmarks; 
                  select * from result; 
                   delimiter $ 
                    create function tot_stud(classname varchar(25)) 
                     returns int     -> begin     -> declare total int(20);     -> select distinct count(*) into total from result where class=classname;     -> return total;     -> end $ 
                     
                     delimiter ; 
                      select tot_stud("Second Class"); 
                      select tot_stud("Second Class"); 
                       select tot_stud("Pass"); 
                        select tot_stud("Distinction"); 
              
